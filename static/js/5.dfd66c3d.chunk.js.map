{"version":3,"sources":["components/common/FormsControls/FormsControls.tsx","components/common/FormsControls/FormsControls.module.css","utils/validators/validators.ts","hoc/withAuthRedirect.js","components/Dialogs/Dialog/Dialog.module.css","components/Dialogs/Dialogs.module.css","components/Dialogs/Message/Message.module.css","components/Dialogs/Dialog/Dialog.tsx","components/Dialogs/Message/Message.tsx","components/Dialogs/Dialogs.tsx","components/Dialogs/DialogsContainer.tsx"],"names":["FormControl","meta","touched","error","children","hasError","className","st","formControl","TextArea","props","input","restProps","Input","createField","placeholder","name","validators","component","text","validate","module","exports","requiredField","value","undefined","maxLength","max","length","withAuthRedirect","Component","connect","state","isAuth","auth","to","Dialog","id","userName","photo","activeClassName","active","dialog","user","img","src","alt","Message","message","maxLength50","MessageReduxForm","reduxForm","form","add","onSubmit","handleSubmit","Field","textArea","btn","Dialogs","dialogs","dialogsItems","dialogsData","map","item","messages","messagesData","formData","sendMessage","newMessage","compose","actions"],"mappings":"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","file":"static/js/5.dfd66c3d.chunk.js","sourcesContent":["import React from 'react'\r\nimport st from './FormsControls.module.css'\r\nimport { Field, WrappedFieldMetaProps, WrappedFieldProps } from 'redux-form';\r\nimport { FieldValidatorType } from '../../../utils/validators/validators';\r\n\r\ntype FormControlType = {\r\n    meta: WrappedFieldMetaProps\r\n    children: React.ReactNode\r\n}\r\n\r\nconst FormControl: React.FC<FormControlType> = ({ meta: { touched, error }, children }) => {\r\n    const hasError = touched && error;\r\n\r\n    return (\r\n        <div className={`${st.formControl} ${hasError && st.error}`}>\r\n            {children}\r\n            {hasError && <div><span>{error}</span></div>}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport const TextArea: React.FC<WrappedFieldProps> = (props) => {\r\n    const { input, meta, ...restProps } = props\r\n    return (<FormControl {...props}>\r\n        <textarea {...input} {...restProps} />\r\n    </FormControl>)\r\n}\r\n\r\nexport const Input: React.FC<WrappedFieldProps> = (props) => {\r\n    const { input, meta, ...restProps } = props\r\n    return (\r\n        <FormControl {...props}>\r\n            <input {...input} {...restProps} />\r\n        </FormControl>\r\n    )\r\n}\r\n\r\nexport function createField<FormKeysType extends string>\r\n    (\r\n        placeholder: string,\r\n        name: FormKeysType,\r\n        validators: FieldValidatorType[],\r\n        component: React.FC<WrappedFieldProps>,\r\n        props = {},\r\n        text: string = \"\",\r\n        className: string = \"\") {\r\n    return (\r\n        <div>\r\n            <Field\r\n                className={className}\r\n                name={name}\r\n                component={component}\r\n                placeholder={placeholder}\r\n                validate={validators}\r\n                {...props} /> {text}\r\n        </div>)\r\n}\r\n\r\nexport type GetStringKeys<T> = Extract<keyof T, string>","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormsControls_formControl__M0W-4\",\"error\":\"FormsControls_error__2fNsK\"};","export type FieldValidatorType = (value: string) => string | undefined\r\n\r\nexport const requiredField: FieldValidatorType = (value) => {\r\n    return value ? undefined : \"Field is required\"\r\n}\r\n\r\nexport const maxLength = (max: number): FieldValidatorType => (value) => {\r\n    return value && value.length > max ? `Max length is ${max} symbols` : undefined\r\n}","import React from 'react'\r\nimport { Redirect } from \"react-router\";\r\nimport { connect } from \"react-redux\";\r\n\r\nconst withAuthRedirect = (Component) => {\r\n\r\n    const mapStateToProps = (state) => {\r\n        return {\r\n            isAuth: state.auth.isAuth,\r\n        };\r\n    };\r\n\r\n    const RedirectComponent = (props) => {\r\n        return !props.isAuth\r\n            ? <Redirect to=\"/login\" />\r\n            : <Component {...props} />\r\n    }\r\n    return connect(mapStateToProps)(RedirectComponent);\r\n}\r\n\r\nexport default withAuthRedirect;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialog\":\"Dialog_dialog__24Zhq\",\"active\":\"Dialog_active__XkXzf\",\"user\":\"Dialog_user__35ZuG\",\"img\":\"Dialog_img__37Hiv\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogs\":\"Dialogs_dialogs__37K0U\",\"dialogsItems\":\"Dialogs_dialogsItems__2XYIc\",\"add\":\"Dialogs_add__Gvkj9\",\"textArea\":\"Dialogs_textArea__pcLzF\",\"btn\":\"Dialogs_btn__34GFz\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"message\":\"Message_message__2Wplz\"};","import React from \"react\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport st from \"./Dialog.module.css\";\r\n\r\ntype ProsType = {\r\n  id: number\r\n  userName: string\r\n  photo: string\r\n}\r\n\r\nconst Dialog: React.FC<ProsType> = ({id, userName, photo}) => {\r\n  return (\r\n    <NavLink\r\n      to={`/dialogs/${id}`}\r\n      activeClassName={st.active}\r\n      className={st.dialog}\r\n    >\r\n      <div className={st.user}>\r\n        <img className={st.img} src={photo} alt=\"Avatar example\"></img>\r\n        {userName}\r\n      </div>\r\n    </NavLink>\r\n  );\r\n}\r\n\r\nexport default Dialog;\r\n\r\n\r\n\r\n","import React from 'react'\r\nimport st from \"./Message.module.css\";\r\n\r\ntype PropsType = {\r\n  message: string\r\n}\r\n\r\nconst Message: React.FC<PropsType> = ({message}) => {\r\n  return (\r\n      <div className={st.message}>{message}</div>\r\n  );\r\n}\r\n\r\nexport default Message;\r\n","import React from \"react\";\r\nimport Dialog from \"./Dialog/Dialog\";\r\nimport st from \"./Dialogs.module.css\";\r\nimport Message from \"./Message/Message\";\r\nimport { Field, InjectedFormProps, reduxForm } from 'redux-form'\r\nimport { maxLength, requiredField } from \"../../utils/validators/validators\";\r\nimport { TextArea } from \"../common/FormsControls/FormsControls\";\r\nimport {DialogType, MessageType } from '../../types/types'\r\n\r\ntype DialogsPropsType = {\r\n  dialogsData: DialogType[],\r\n  messagesData: MessageType[],\r\n  sendMessage: (newMessage: string) => void\r\n}\r\n\r\ntype FormDataType = {\r\n  newMessage: string\r\n}\r\n\r\nconst Dialogs: React.FC<DialogsPropsType> = (props) => {\r\n\r\n  const onSubmit: any = (formData: FormDataType) => {\r\n    props.sendMessage(formData.newMessage);\r\n  }\r\n\r\n  return (\r\n    <div className={st.dialogs}>\r\n      <div className={st.dialogsItems}>\r\n        {props.dialogsData.map((item) => (\r\n          <Dialog\r\n            key={item.id}\r\n            id={item.id}\r\n            userName={item.userName}\r\n            photo={item.photo}\r\n          />\r\n        ))}\r\n      </div>\r\n      <div className={st.messages}>\r\n        {props.messagesData.map((item) => (\r\n          <Message key={item.id} message={item.message} />\r\n        ))}\r\n        <MessageReduxForm onSubmit={onSubmit}/>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nconst maxLength50 = maxLength(50);\r\n\r\nconst MessageForm: React.FC<InjectedFormProps> = (props) => {\r\n  return (\r\n    <form className={st.add} onSubmit={props.handleSubmit}>\r\n      <Field\r\n        component={TextArea}\r\n        className={st.textArea}\r\n        placeholder=\"Your message...\"\r\n        name=\"newMessage\"\r\n        validate={[requiredField, maxLength50]}\r\n      ></Field>\r\n      <button className={st.btn}>\r\n        Send message\r\n      </button>\r\n    </form>\r\n  )\r\n}\r\n\r\nconst MessageReduxForm = reduxForm({ form: \"message\" })(MessageForm);\r\n\r\nexport default Dialogs;\r\n","import { actions } from \"../../redux/messagesReducer\";\r\nimport Dialogs from \"./Dialogs\";\r\nimport { connect } from \"react-redux\";\r\nimport withAuthRedirect from \"../../hoc/withAuthRedirect\";\r\nimport { compose } from \"redux\";\r\nimport { AppStateType } from \"../../redux/reduxStore\";\r\n\r\nconst mapStateToProps = (state: AppStateType) => {\r\n  return {\r\n    dialogsData: state.messages.dialogsData,\r\n    messagesData: state.messages.messagesData,\r\n  };\r\n};\r\n\r\nexport default compose<React.ComponentType>(\r\n  connect(mapStateToProps, {\r\n    sendMessage: actions.sendMessage,\r\n  }),\r\n  withAuthRedirect\r\n)(Dialogs);\r\n"],"sourceRoot":""}