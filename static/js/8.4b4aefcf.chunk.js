(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[8],{308:function(e,t,n){e.exports={buttons:"Pagination_buttons__3r7Ng",pageNumber:"Pagination_pageNumber__1bkeD",selectedPage:"Pagination_selectedPage__Yzlt_",btn:"Pagination_btn__vb_lI"}},310:function(e,t,n){e.exports={user:"User_user__2PiGS",container:"User_container__1e9Zk",info:"User_info__1ACZ9",photo:"User_photo__WT1UX",btn:"User_btn__3_BiT"}},323:function(e,t,n){"use strict";n.r(t);var r=n(3),i=n(0),c=n.n(i),s=n(8),a=n(65),o=n(236),u=n(308),l=n.n(u),b=n(309),d=n.n(b),j=n(2),f=function(e){for(var t=e.totalItemsCount,n=e.pageSize,r=e.onPageChanged,c=e.currentPage,s=e.portionSize,u=void 0===s?10:s,b=Math.ceil(t/n),f=[],O=1;O<=b;O++)f.push(O);var m=Math.ceil(b/u),g=Object(i.useState)(1),h=Object(o.a)(g,2),p=h[0],x=h[1],_=(p-1)*u+1,v=p*u;return Object(j.jsxs)("div",{className:l.a.buttons,children:[p>1&&Object(j.jsx)("button",{className:l.a.btn,onClick:function(){return x(p-1)},children:"PREV"}),f.filter((function(e){return e>=_&&e<=v})).map((function(e){return Object(j.jsx)("span",{onClick:function(){return r(e)},className:d()(Object(a.a)({},l.a.selectedPage,c===e),l.a.pageNumber),children:e},e)})),m>p&&Object(j.jsx)("button",{className:l.a.btn,onClick:function(){return x(p+1)},children:"NEXT"})]})},O=n(310),m=n.n(O),g=n.p+"static/media/user.181d3cde.jpg",h=n(17),p=n(18),x=n(64),_=function(e){var t=e.followingInProgress,n=e.user,r=Object(p.c)();return Object(j.jsxs)("div",{className:m.a.user,children:[Object(j.jsxs)("div",{className:m.a.container,children:[Object(j.jsx)(h.b,{to:"./profile/".concat(n.id),children:Object(j.jsx)("img",{className:m.a.photo,src:null!==n.photos.small?n.photos.small:g,alt:n.name})}),n.followed?Object(j.jsx)("button",{disabled:t.some((function(e){return e===n.id})),onClick:function(){return r(Object(x.d)(n.id))},className:m.a.btn,children:"UNFOLLOW"}):Object(j.jsx)("button",{disabled:t.some((function(e){return e===n.id})),onClick:function(){return r(Object(x.b)(n.id))},className:m.a.btn,children:"FOLLOW"})]}),Object(j.jsxs)("div",{className:m.a.info,children:[Object(j.jsx)("h3",{children:n.name}),Object(j.jsx)("p",{children:n.status})]})]})},v=n(317),P=n(318),N=function(e){return e.findUsers.users},U=(Object(P.a)(N,(function(e){return e.filter((function(e){return!0}))})),function(e){return e.findUsers.pageSize}),C=function(e){return e.findUsers.totalUsersCount},S=function(e){return e.findUsers.currentPage},k=function(e){return e.findUsers.isFetching},w=function(e){return e.findUsers.followingInProgress},y=function(e){return e.findUsers.filter},F=function(){return{}},z=c.a.memo((function(e){var t=e.onFilterChanged,n=Object(p.d)(y);return Object(j.jsx)("div",{children:Object(j.jsx)(v.c,{enableReinitialize:!0,initialValues:{term:n.term,friend:String(n.friend)},validate:F,onSubmit:function(e,n){var r=n.setSubmitting,i={term:e.term,friend:"null"===e.friend?null:"true"===e.friend};t(i),r(!1)},children:function(e){var t=e.isSubmitting;return Object(j.jsxs)(v.b,{children:[Object(j.jsx)(v.a,{type:"text",name:"term"}),Object(j.jsxs)(v.a,{name:"friend",as:"select",children:[Object(j.jsx)("option",{value:"null",children:"All"}),Object(j.jsx)("option",{value:"true",children:"Only followed"}),Object(j.jsx)("option",{value:"false",children:"Only unfollowed"})]}),Object(j.jsx)("button",{type:"submit",disabled:t,children:"Find"})]})}})})})),I=n(51);t.default=function(e){var t=e.pageTitle,c=Object(p.d)(C),a=Object(p.d)(N),o=Object(p.d)(U),u=Object(p.d)(S),l=Object(p.d)(k),b=Object(p.d)(w),d=Object(p.d)(y),O=Object(s.g)(),m=Object(p.c)(),g=n(314);Object(i.useEffect)((function(){var e=g.parse(O.location.search.substring(1)),t=u,n=d;e.page&&(t=+e.page),e.term&&(n=Object(r.a)(Object(r.a)({},n),{},{term:e.term})),e.friend&&(n=Object(r.a)(Object(r.a)({},n),{},{friend:"null"===e.friend?null:"true"===e.friend})),m(Object(x.c)(t,o,n))}),[]),Object(i.useEffect)((function(){var e={};d.term&&(e.term=d.term),null!==d.friend&&(e.friend=String(d.friend)),1!==u&&(e.page=String(u)),O.push({pathname:"/users",search:g.stringify(e)})}),[d,u]);return Object(j.jsxs)("div",{children:[Object(j.jsx)("h2",{children:t}),l?Object(j.jsx)(I.a,{}):Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(z,{onFilterChanged:function(e){m(Object(x.c)(1,o,e))}}),Object(j.jsx)(f,{totalItemsCount:c,pageSize:o,onPageChanged:function(e){m(Object(x.c)(e,o,d))},currentPage:u}),a.map((function(e){return Object(j.jsx)(_,{user:e,followingInProgress:b},e.id)}))]})]})}}}]);
//# sourceMappingURL=8.4b4aefcf.chunk.js.map