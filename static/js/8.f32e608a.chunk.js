(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[8],{310:function(e,n,t){e.exports={buttons:"Pagination_buttons__3r7Ng",pageNumber:"Pagination_pageNumber__1bkeD",selectedPage:"Pagination_selectedPage__Yzlt_",btn:"Pagination_btn__vb_lI"}},312:function(e,n,t){e.exports={user:"User_user__2PiGS",container:"User_container__1e9Zk",info:"User_info__1ACZ9",photo:"User_photo__WT1UX",btn:"User_btn__3_BiT"}},323:function(e,n,t){"use strict";t.r(n);var r=t(3),i=t(36),s=t(37),o=t(47),a=t(46),c=t(0),l=t.n(c),u=t(67),d=t(238),f=t(310),b=t.n(f),j=t(311),g=t.n(j),h=t(2),p=function(e){for(var n=e.totalItemsCount,t=e.pageSize,r=e.onPageChanged,i=e.currentPage,s=e.portionSize,o=void 0===s?10:s,a=Math.ceil(n/t),l=[],f=1;f<=a;f++)l.push(f);var j=Math.ceil(a/o),p=Object(c.useState)(1),O=Object(d.a)(p,2),m=O[0],x=O[1],_=(m-1)*o+1,v=m*o;return Object(h.jsxs)("div",{className:b.a.buttons,children:[m>1&&Object(h.jsx)("button",{className:b.a.btn,onClick:function(){return x(m-1)},children:"PREV"}),l.filter((function(e){return e>=_&&e<=v})).map((function(e){return Object(h.jsx)("span",{onClick:function(){return r(e)},className:g()(Object(u.a)({},b.a.selectedPage,i===e),b.a.pageNumber),children:e},e)})),j>m&&Object(h.jsx)("button",{className:b.a.btn,onClick:function(){return x(m+1)},children:"NEXT"})]})},O=t(312),m=t.n(O),x=t.p+"static/media/user.181d3cde.jpg",_=t(17),v=function(e){var n=e.followingInProgress,t=e.follow,r=e.unfollow,i=e.user;return Object(h.jsxs)("div",{className:m.a.user,children:[Object(h.jsxs)("div",{className:m.a.container,children:[Object(h.jsx)(_.b,{to:"./profile/".concat(i.id),children:Object(h.jsx)("img",{className:m.a.photo,src:null!==i.photos.small?i.photos.small:x,alt:i.name})}),i.followed?Object(h.jsx)("button",{disabled:n.some((function(e){return e===i.id})),onClick:function(){return r(i.id)},className:m.a.btn,children:"UNFOLLOW"}):Object(h.jsx)("button",{disabled:n.some((function(e){return e===i.id})),onClick:function(){return t(i.id)},className:m.a.btn,children:"FOLLOW"})]}),Object(h.jsxs)("div",{className:m.a.info,children:[Object(h.jsx)("h3",{children:i.name}),Object(h.jsx)("p",{children:i.status})]})]})},P=t(316),C=function(){return{}},U=l.a.memo((function(e){var n=e.onFilterChanged;return Object(h.jsx)("div",{children:Object(h.jsx)(P.c,{initialValues:{term:"",friend:"null"},validate:C,onSubmit:function(e,t){var r=t.setSubmitting,i={term:e.term,friend:"null"===e.friend?null:"true"===e.friend};n(i),r(!1)},children:function(e){var n=e.isSubmitting;return Object(h.jsxs)(P.b,{children:[Object(h.jsx)(P.a,{type:"text",name:"term"}),Object(h.jsxs)(P.a,{name:"friend",as:"select",children:[Object(h.jsx)("option",{value:"null",children:"All"}),Object(h.jsx)("option",{value:"true",children:"Only followed"}),Object(h.jsx)("option",{value:"false",children:"Only unfollowed"})]}),Object(h.jsx)("button",{type:"submit",disabled:n,children:"Find"})]})}})})})),w=function(e){return Object(h.jsxs)("div",{children:[Object(h.jsx)(U,{onFilterChanged:e.onFilterChanged}),Object(h.jsx)(p,{totalItemsCount:e.totalUsersCount,pageSize:e.pageSize,onPageChanged:e.onPageChanged,currentPage:e.currentPage}),e.users.map((function(n){return Object(h.jsx)(v,{user:n,followingInProgress:e.followingInProgress,follow:e.follow,unfollow:e.unfollow},n.id)}))]})},N=t(55),S=t(23),F=t(82),k=t(20),y=t(317),z=function(e){return e.findUsers.users},I=(Object(y.a)(z,(function(e){return e.filter((function(e){return!0}))})),function(e){return e.findUsers.pageSize}),q=function(e){return e.findUsers.totalUsersCount},L=function(e){return e.findUsers.currentPage},T=function(e){return e.findUsers.isFetching},A=function(e){return e.findUsers.followingInProgress},M=function(e){return e.findUsers.filter},W=function(e){Object(o.a)(t,e);var n=Object(a.a)(t);function t(){var e;Object(i.a)(this,t);for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return(e=n.call.apply(n,[this].concat(s))).onPageChanged=function(n){var t=e.props;(0,t.requestUsers)(n,t.pageSize,t.filter)},e.onFilterChanged=function(n){var t=e.props,r=t.pageSize;(0,t.requestUsers)(1,r,n)},e}return Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,n=e.currentPage,t=e.pageSize;(0,e.requestUsers)(n,t,e.filter)}},{key:"render",value:function(){var e=this.props,n=e.isFetching,t=e.pageTitle;return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("h2",{children:t}),n?Object(h.jsx)(N.a,{}):Object(h.jsx)(w,Object(r.a)({onPageChanged:this.onPageChanged,onFilterChanged:this.onFilterChanged},this.props))]})}}]),t}(c.Component);n.default=Object(k.d)(Object(S.b)((function(e){return{users:z(e),pageSize:I(e),totalUsersCount:q(e),currentPage:L(e),isFetching:T(e),followingInProgress:A(e),filter:M(e)}}),{follow:F.c,unfollow:F.e,setCurrentPage:F.a.setCurrentPage,requestUsers:F.d}))(W)}}]);
//# sourceMappingURL=8.f32e608a.chunk.js.map