(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{133:function(e,t,s){e.exports={message:"Message_message__2Wplz"}},14:function(e,t,s){e.exports={nav:"Navbar_nav__iAsk2",item:"Navbar_item__26SM4",active:"Navbar_active__2enci",icon:"Navbar_icon__Qc7ak"}},15:function(e,t,s){e.exports={info:"ProfileInfo_info__1iMuy",description:"ProfileInfo_description__2Vn_M",avatar:"ProfileInfo_avatar__v0QMI",title:"ProfileInfo_title__cSU_W",text:"ProfileInfo_text__riMmS",link:"ProfileInfo_link__36UG7"}},164:function(e,t,s){},24:function(e,t,s){e.exports={user:"FindUsers_user__2rFKQ",container:"FindUsers_container__qEu8S",info:"FindUsers_info__3_NER",photo:"FindUsers_photo__1Bosl",btn:"FindUsers_btn__nze1L",buttons:"FindUsers_buttons__1z6w9",smallbtn:"FindUsers_smallbtn__d29Bx",smallbtnActive:"FindUsers_smallbtnActive__3Q8en"}},243:function(e,t,s){},25:function(e,t,s){e.exports={wrapper:"Login_wrapper__3Ph-H",text:"Login_text__Y66_4",inline:"Login_inline__21TIx",input:"Login_input__12yZv",btn:"Login_btn__261XC",formSummaryError:"Login_formSummaryError__3Kg60"}},253:function(e,t,s){},294:function(e,t,s){},295:function(e,t,s){},296:function(e,t,s){},297:function(e,t,s){"use strict";s.r(t);var n=s(1),a=s.n(n),i=s(68),r=s.n(i),o=(s(164),function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,298)).then((function(t){var s=t.getCLS,n=t.getFID,a=t.getFCP,i=t.getLCP,r=t.getTTFB;s(e),n(e),a(e),i(e),r(e)}))}),c=s(10),u=s(45),l=s(3),d=s(128),j=s.n(d).a.create({baseURL:"https://social-network.samuraijs.com/api/1.0/",withCredentials:!0,headers:{"API-KEY":"f406f314-0e27-4ae0-9815-6188b0f3b0b0"}}),p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return j.get("users?page=".concat(e,"&count=").concat(t)).then((function(e){return e.data}))},b=function(e){return j.post("follow/".concat(e)).then((function(e){return e.data}))},f=function(e){return j.delete("follow/".concat(e)).then((function(e){return e.data}))},h=function(e){return j.get("profile/".concat(e)).then((function(e){return e.data}))},m=function(e){return j.get("profile/status/".concat(e)).then((function(e){return e.data}))},O=function(e){return j.put("profile/status",{status:e})},g=function(){return j.get("auth/me").then((function(e){return e.data}))},_=function(e,t){var s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return j.post("auth/login",{email:e,password:t,rememberMe:s})},x=function(){return j.delete("auth/login")},v="ADD_POST",N="DELETE_POST",S="SET_USER_PROFILE",P="SET_PROFILE_STATUS",C={postsData:[{id:1,message:"Hi? how are you?",likeCount:0},{id:2,message:"It's my first post!",likeCount:23}],profile:null,status:""},w=function(e){return{type:P,status:e}},k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v:return Object(l.a)(Object(l.a)({},e),{},{postsData:[].concat(Object(u.a)(e.postsData),[{id:e.postsData[e.postsData.length-1].id+1,message:t.newPostText,likeCount:0}])});case N:return Object(l.a)(Object(l.a)({},e),{},{postsData:e.postsData.filter((function(e){return e.id!==t.postId}))});case S:return Object(l.a)(Object(l.a)({},e),{},{profile:t.profile});case P:return Object(l.a)(Object(l.a)({},e),{},{status:t.status});default:return e}},y="SEND-MESSAGE",I={messagesData:[{id:1,message:"Hi"},{id:2,message:"How are you?"},{id:3,message:"Yo"}],dialogsData:[{id:1,userName:"Dimych",photo:"https://st2.depositphotos.com/3873339/8013/i/600/depositphotos_80131050-stock-photo-realistic-square-picture-frame-on.jpg"},{id:2,userName:"Max",photo:"https://st2.depositphotos.com/3873339/8013/i/600/depositphotos_80131050-stock-photo-realistic-square-picture-frame-on.jpg"},{id:3,userName:"Anna",photo:"https://st2.depositphotos.com/3873339/8013/i/600/depositphotos_80131050-stock-photo-realistic-square-picture-frame-on.jpg"},{id:4,userName:"Sveta",photo:"https://st2.depositphotos.com/3873339/8013/i/600/depositphotos_80131050-stock-photo-realistic-square-picture-frame-on.jpg"},{id:5,userName:"Sasha",photo:"https://st2.depositphotos.com/3873339/8013/i/600/depositphotos_80131050-stock-photo-realistic-square-picture-frame-on.jpg"},{id:6,userName:"Victor",photo:"https://st2.depositphotos.com/3873339/8013/i/600/depositphotos_80131050-stock-photo-realistic-square-picture-frame-on.jpg"}]},F=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y:return Object(l.a)(Object(l.a)({},e),{},{messagesData:[].concat(Object(u.a)(e.messagesData),[{id:e.messagesData[e.messagesData.length-1].id+1,message:t.newMessage}])});default:return e}},D={friends:[{id:1,name:"Dimych",photo:"https://st2.depositphotos.com/3873339/8013/i/600/depositphotos_80131050-stock-photo-realistic-square-picture-frame-on.jpg"},{id:2,name:"Max",photo:"https://st2.depositphotos.com/3873339/8013/i/600/depositphotos_80131050-stock-photo-realistic-square-picture-frame-on.jpg"},{id:3,name:"Sveta",photo:"https://st2.depositphotos.com/3873339/8013/i/600/depositphotos_80131050-stock-photo-realistic-square-picture-frame-on.jpg"}]},E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D;return e},U="FOLLOW_SUCCESS",A="UNFOLLOW_SUCCESS",L="SET_USERS",M="SET_CURRENT_PAGE",T="SET_TOTAL_USERS_COUNT",z="SET_IS_FETCHING",q="SET_FOLLOWING_PROGRESS",R={users:[],pageSize:5,totalUsersCount:0,currentPage:1,isFetching:!1,followingInProgress:[]},H=function(e){return{type:M,pageNumber:e}},G=function(e){return{type:z,isFetching:e}},B=function(e,t){return{type:q,isFollowing:e,userId:t}},W=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case U:return Object(l.a)(Object(l.a)({},e),{},{users:e.users.map((function(e){return e.id===t.userId?Object(l.a)(Object(l.a)({},e),{},{followed:!0}):e}))});case A:return Object(l.a)(Object(l.a)({},e),{},{users:e.users.map((function(e){return e.id===t.userId?Object(l.a)(Object(l.a)({},e),{},{followed:!1}):e}))});case L:return Object(l.a)(Object(l.a)({},e),{},{users:t.users});case M:return Object(l.a)(Object(l.a)({},e),{},{currentPage:t.pageNumber});case T:return Object(l.a)(Object(l.a)({},e),{},{totalUsersCount:t.count});case z:return Object(l.a)(Object(l.a)({},e),{},{isFetching:t.isFetching});case q:return Object(l.a)(Object(l.a)({},e),{},{followingInProgress:t.isFollowing?[].concat(Object(u.a)(e.followingInProgress),[t.userId]):e.followingInProgress.filter((function(e){return e!==t.userId}))});default:return e}},K=s(41),Y="SET_AUTH_USER_DATA",X={id:null,email:null,login:null,isAuth:!1},Z=function(e,t,s,n){return{type:Y,payload:{userId:e,email:t,login:s,isAuth:n}}},Q=function(){return function(e){return g().then((function(t){if(0===t.resultCode){var s=t.data,n=s.id,a=s.email,i=s.login;e(Z(n,a,i,!0))}}))}},V=function(){return function(e){x().then((function(t){0===t.data.resultCode&&e(Z(null,null,null,!1))}))}},J=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Y:return Object(l.a)(Object(l.a)({},e),t.payload);default:return e}},$="INITIALIZED_SUCCESS",ee={initialized:!1},te=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ee,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case $:return Object(l.a)(Object(l.a)({},e),{},{initialized:!0});default:return e}},se=s(130),ne=s(127),ae=Object(c.c)({profile:k,messages:F,navbar:E,findUsers:W,auth:J,form:ne.a,app:te}),ie=Object(c.e)(ae,Object(c.a)(se.a)),re=s(29),oe=s(30),ce=s(32),ue=s(31),le=s(13),de=s(9),je=(s(243),s(11)),pe=s(46),be=s.n(pe),fe=s(0);var he=Object(je.b)((function(e){return{friends:e.navbar.friends}}))((function(e){return Object(fe.jsxs)("div",{children:[Object(fe.jsx)("h3",{className:be.a.title,children:"FRIENDS"}),e.friends.map((function(e){return Object(fe.jsx)("div",{className:be.a.friends,children:Object(fe.jsxs)("div",{className:be.a.friend,children:[Object(fe.jsx)("img",{className:be.a.img,src:e.photo,alt:"Avatar example"}),Object(fe.jsx)("p",{className:be.a.text,children:e.name})]})},e.id)}))]})})),me=s(14),Oe=s.n(me),ge=s.p+"static/media/search_white.66ea5ec3.svg";function _e(e){return Object(fe.jsxs)("nav",{className:Oe.a.nav,children:[Object(fe.jsx)(le.b,{to:"/profile",activeClassName:Oe.a.active,className:Oe.a.item,children:"PROFILE"}),Object(fe.jsx)(le.b,{to:"/dialogs",activeClassName:Oe.a.active,className:Oe.a.item,children:"MESSAGES"}),Object(fe.jsx)(le.b,{to:"/news",activeClassName:Oe.a.active,className:Oe.a.item,children:"NEWS"}),Object(fe.jsx)(le.b,{to:"/music",activeClassName:Oe.a.active,className:Oe.a.item,children:"MUSIC"}),Object(fe.jsx)(le.b,{to:"/users",activeClassName:Oe.a.active,className:Oe.a.item,children:Object(fe.jsxs)("div",{className:Oe.a.icon,children:[Object(fe.jsx)("img",{src:ge,alt:"serach icon"}),"USERS"]})}),Object(fe.jsx)("br",{}),Object(fe.jsx)(le.b,{to:"/settings",activeClassName:Oe.a.active,className:Oe.a.item,children:"SETTINGS"}),Object(fe.jsx)(he,{})]})}s(253);var xe=s(125),ve=s(126),Ne=function(e){return e?void 0:"Field is required"},Se=function(e){return function(t){return t&&t.length>e?"Max length is ".concat(e," symbols"):void 0}},Pe=s(73),Ce=s(92),we=s.n(Ce),ke=function(e){e.input;var t=e.meta,s=(e.child,Object(Pe.a)(e,["input","meta","child"])),n=t.touched&&t.error;return Object(fe.jsxs)("div",{className:"".concat(we.a.formControl," ").concat(n&&we.a.error),children:[s.children,n&&Object(fe.jsx)("div",{children:Object(fe.jsx)("span",{children:t.error})})]})},ye=function(e){var t=e.input,s=(e.meta,e.child,Object(Pe.a)(e,["input","meta","child"]));return Object(fe.jsx)(ke,Object(l.a)(Object(l.a)({},e),{},{children:Object(fe.jsx)("textarea",Object(l.a)(Object(l.a)({},t),s))}))},Ie=function(e){var t=e.input,s=(e.meta,e.child,Object(Pe.a)(e,["input","meta","child"]));return Object(fe.jsx)(ke,Object(l.a)(Object(l.a)({},e),{},{children:Object(fe.jsx)("input",Object(l.a)(Object(l.a)({},t),s))}))},Fe=s(38),De=s.n(Fe),Ee=s(56),Ue=s.n(Ee);function Ae(e){return Object(fe.jsxs)("div",{className:Ue.a.post,children:[Object(fe.jsxs)("div",{className:Ue.a.item,children:[Object(fe.jsx)("img",{className:Ue.a.photo,src:"https://st2.depositphotos.com/3873339/8013/i/600/depositphotos_80131050-stock-photo-realistic-square-picture-frame-on.jpg",alt:"Avatar example"}),Object(fe.jsx)("p",{children:e.message})]}),Object(fe.jsxs)("button",{className:Ue.a.btn,children:["Like ",e.likeCount]})]})}var Le=Se(100),Me=Object(ve.a)({form:"myPost"})((function(e){return Object(fe.jsxs)("form",{onSubmit:e.handleSubmit,className:De.a.form,children:[Object(fe.jsx)(xe.a,{placeholder:"Start your story...",className:De.a.textArea,component:ye,name:"newPost",validate:[Ne,Le]}),Object(fe.jsx)("button",{className:De.a.btn,children:"Add post"})]})})),Te=Object(je.b)((function(e){return{postsData:e.profile.postsData}}),{addPost:function(e){return{type:v,newPostText:e}}})((function(e){return Object(fe.jsxs)("div",{children:[Object(fe.jsxs)("div",{className:De.a.myposts,children:[Object(fe.jsx)("h2",{className:De.a.title,children:"MY POSTS"}),Object(fe.jsx)(Me,{onSubmit:function(t){e.addPost(t.newPost)}})]}),Object(fe.jsx)("div",{className:De.a.posts,children:e.postsData.map((function(e){return Object(fe.jsx)(Ae,{message:e.message,likeCount:e.likeCount},e.id)}))})]})})),ze=s(15),qe=s.n(ze),Re=s.p+"static/media/loader.9c48f460.gif";function He(e){return Object(fe.jsx)("div",{children:Object(fe.jsx)("img",{src:Re,alt:"Loading",style:{marginLeft:"200px"}})})}var Ge=s(95);function Be(e){var t=Object(n.useState)(!1),s=Object(Ge.a)(t,2),a=s[0],i=s[1],r=Object(n.useState)(e.status),o=Object(Ge.a)(r,2),c=o[0],u=o[1];return Object(n.useEffect)((function(){u(e.status)}),[e.status]),Object(fe.jsx)(fe.Fragment,{children:a?Object(fe.jsx)("input",{autoFocus:!0,defaultValue:c,onBlur:function(){i(!1),e.updateProfileStatus(c)},onChange:function(e){u(e.target.value)}}):Object(fe.jsx)("span",{onDoubleClick:function(){i(!0),console.log(e.status)},children:e.status||"----------"})})}function We(e){return e.profile?Object(fe.jsxs)("div",{className:qe.a.info,children:[Object(fe.jsxs)("div",{className:qe.a.description,children:[Object(fe.jsx)("img",{className:qe.a.avatar,src:e.profile.photos.small?e.profile.photos.small:"https://st2.depositphotos.com/3873339/8013/i/600/depositphotos_80131050-stock-photo-realistic-square-picture-frame-on.jpg",alt:"Avatar"}),Object(fe.jsx)("h1",{className:qe.a.title,children:e.profile.fullName}),Object(fe.jsx)("p",{className:qe.a.text,children:e.profile.aboutMe}),Object(fe.jsx)("p",{className:qe.a.text,children:Object(fe.jsx)(Be,{updateProfileStatus:e.updateProfileStatus,status:e.status})})]}),Object(fe.jsxs)("ul",{children:[Object(fe.jsx)("h3",{children:"Contacts:"}),e.profile.contacts.facebook&&Object(fe.jsx)("li",{children:Object(fe.jsx)("a",{className:qe.a.link,href:e.profile.contacts.facebook,children:"Facebook"})}),e.profile.contacts.website&&Object(fe.jsx)("li",{children:Object(fe.jsx)("a",{className:qe.a.link,href:e.profile.contacts.website,children:"Website"})}),e.profile.contacts.vk&&Object(fe.jsx)("li",{children:Object(fe.jsx)("a",{className:qe.a.link,href:e.profile.contacts.vk,children:"VK"})}),e.profile.contacts.twitter&&Object(fe.jsx)("li",{children:Object(fe.jsx)("a",{className:qe.a.link,href:e.profile.contacts.twitter,children:"Twitter"})}),e.profile.contacts.instagram&&Object(fe.jsx)("li",{children:Object(fe.jsx)("a",{className:qe.a.link,href:e.profile.contacts.instagram,children:"Instagram"})}),e.profile.contacts.youtube&&Object(fe.jsx)("li",{children:Object(fe.jsx)("a",{className:qe.a.link,href:e.profile.contacts.youtube,children:"Youtube"})}),e.profile.contacts.github&&Object(fe.jsx)("li",{children:Object(fe.jsx)("a",{className:qe.a.link,href:e.profile.contacts.github,children:"Github"})}),e.profile.contacts.mainLink&&Object(fe.jsx)("li",{children:Object(fe.jsx)("a",{className:qe.a.link,href:e.profile.contacts.mainLink,children:"Main Link"})})]})]}):Object(fe.jsx)(He,{})}function Ke(e){return Object(fe.jsxs)("div",{children:[Object(fe.jsx)(We,{profile:e.profile,status:e.status,updateProfileStatus:e.updateProfileStatus}),Object(fe.jsx)(Te,{})]})}var Ye=function(e){return Object(je.b)((function(e){return{isAuth:e.auth.isAuth}}))((function(t){return t.isAuth?Object(fe.jsx)(e,Object(l.a)({},t)):Object(fe.jsx)(de.a,{to:"/login"})}))},Xe=function(e){Object(ce.a)(s,e);var t=Object(ue.a)(s);function s(){return Object(re.a)(this,s),t.apply(this,arguments)}return Object(oe.a)(s,[{key:"componentDidMount",value:function(){var e=this.props.match.params.userId;(e=void 0===e?this.props.authorizedUserId:this.props.match.params.userId)||this.props.history.push("/login"),this.props.getProfileInfo(e),this.props.getProfileStatus(e)}},{key:"render",value:function(){return Object(fe.jsx)("div",{children:Object(fe.jsx)(Ke,Object(l.a)(Object(l.a)({},this.props),{},{profile:this.props.profile}))})}}]),s}(n.Component),Ze=Object(c.d)(Object(je.b)((function(e){return{profile:e.profile.profile,status:e.profile.status,authorizedUserId:e.auth.userId,isAuth:e.auth.isAuth}}),{getProfileInfo:function(e){return function(t){h(e).then((function(e){t({type:S,profile:e})}))}},getProfileStatus:function(e){return function(t){m(e).then((function(e){t(w(e))}))}},updateProfileStatus:function(e){return function(t){O(e).then((function(s){0===s.data.resultCode&&t(w(e))}))}}}),de.f,Ye)(Xe);s(294);function Qe(){return Object(fe.jsx)("div",{children:"News"})}s(295);function Ve(){return Object(fe.jsx)("div",{children:"Music"})}s(296);function Je(){return Object(fe.jsx)("div",{children:"Settings"})}var $e=s(57),et=s.n($e);function tt(e){return Object(fe.jsx)(le.b,{to:"/dialogs/".concat(e.id),activeClassName:et.a.active,className:et.a.dialog,children:Object(fe.jsxs)("div",{className:et.a.user,children:[Object(fe.jsx)("img",{className:et.a.img,src:e.photo,alt:"Avatar example"}),e.userName]})})}var st=s(39),nt=s.n(st),at=s(133),it=s.n(at);function rt(e){return Object(fe.jsx)("div",{className:it.a.message,children:e.message})}var ot=Se(50),ct=Object(ve.a)({form:"message"})((function(e){return Object(fe.jsxs)("form",{className:nt.a.add,onSubmit:e.handleSubmit,children:[Object(fe.jsx)(xe.a,{component:ye,className:nt.a.textArea,placeholder:"Your message...",name:"newMessage",validate:[Ne,ot]}),Object(fe.jsx)("button",{className:nt.a.btn,children:"Send message"})]})})),ut=Object(c.d)(Object(je.b)((function(e){return{dialogsData:e.messages.dialogsData,messagesData:e.messages.messagesData}}),{sendMessage:function(e){return{type:y,newMessage:e}}}),Ye)((function(e){return Object(fe.jsxs)("div",{className:nt.a.dialogs,children:[Object(fe.jsx)("div",{className:nt.a.dialogsItems,children:e.dialogsData.map((function(e){return Object(fe.jsx)(tt,{id:e.id,userName:e.userName,photo:e.photo},e.id)}))}),Object(fe.jsxs)("div",{className:nt.a.messages,children:[e.messagesData.map((function(e){return Object(fe.jsx)(rt,{message:e.message},e.id)})),Object(fe.jsx)(ct,{onSubmit:function(t){e.sendMessage(t.newMessage)}})]})]})})),lt=s(24),dt=s.n(lt),jt=s.p+"static/media/user.181d3cde.jpg";function pt(e){Math.ceil(e.totalUsersCount/e.pageSize);for(var t=[],s=1;s<=10;s++)t.push(s);return Object(fe.jsxs)("div",{children:[Object(fe.jsx)("div",{className:dt.a.buttons,children:t.map((function(t){return Object(fe.jsx)("button",{onClick:function(){return e.onPageChanged(t)},className:e.currentPage===t?dt.a.smallbtnActive:dt.a.smallbtn,children:t},t)}))}),e.users.map((function(t){return Object(fe.jsxs)("div",{className:dt.a.user,children:[Object(fe.jsxs)("div",{className:dt.a.container,children:[Object(fe.jsx)(le.b,{to:"./profile/".concat(t.id),children:Object(fe.jsx)("img",{className:dt.a.photo,src:null!==t.photos.small?t.photos.small:jt,alt:t.name})}),t.followed?Object(fe.jsx)("button",{disabled:e.followingInProgress.some((function(e){return e===t.id})),onClick:function(){return e.unfollow(t.id)},className:dt.a.btn,children:"UNFOLLOW"}):Object(fe.jsx)("button",{disabled:e.followingInProgress.some((function(e){return e===t.id})),onClick:function(){return e.follow(t.id)},className:dt.a.btn,children:"FOLLOW"})]}),Object(fe.jsxs)("div",{className:dt.a.info,children:[Object(fe.jsx)("h3",{children:t.name}),Object(fe.jsx)("p",{children:t.status})]})]},t.id)}))]})}var bt=s(134),ft=function(e){return e.findUsers.users},ht=(Object(bt.a)(ft,(function(e){return e.filter((function(e){return!0}))})),function(e){return e.findUsers.pageSize}),mt=function(e){return e.findUsers.totalUsersCount},Ot=function(e){return e.findUsers.currentPage},gt=function(e){return e.findUsers.isFetching},_t=function(e){return e.findUsers.followingInProgress},xt=function(e){Object(ce.a)(s,e);var t=Object(ue.a)(s);function s(e){var n;return Object(re.a)(this,s),(n=t.call(this,e)).onPageChanged=function(e){n.props.setCurrentPage(e),n.props.requestUsers(e,n.props.pageSize)},n}return Object(oe.a)(s,[{key:"componentDidMount",value:function(){this.props.requestUsers(this.props.currentPage,this.props.pageSize)}},{key:"render",value:function(){return Object(fe.jsx)(fe.Fragment,{children:this.props.isFetching?Object(fe.jsx)(He,{}):Object(fe.jsx)(pt,Object(l.a)({onPageChanged:this.onPageChanged},this.props))})}}]),s}(n.Component),vt=Object(c.d)(Object(je.b)((function(e){return{users:ft(e),pageSize:ht(e),totalUsersCount:mt(e),currentPage:Ot(e),isFetching:gt(e),followingInProgress:_t(e)}}),{follow:function(e){return function(t){t(B(!0,e)),b(e).then((function(s){0===s.resultCode&&t(function(e){return{type:U,userId:e}}(e)),t(B(!1,e))}))}},unfollow:function(e){return function(t){t(B(!0,e)),f(e).then((function(s){0===s.resultCode&&t(function(e){return{type:A,userId:e}}(e)),t(B(!1,e))}))}},setCurrentPage:H,requestUsers:function(e,t){return function(s){s(G(!0)),s(H(e)),p(e,t).then((function(e){var t,n;s(G(!1)),s((t=e.items,{type:L,users:t})),s((n=e.totalCount,{type:T,count:n}))}))}}}))(xt),Nt=s.p+"static/media/logo.6ce24c58.svg",St=s(34),Pt=s.n(St);function Ct(e){return Object(fe.jsxs)("header",{className:Pt.a.header,children:[Object(fe.jsx)("img",{className:Pt.a.logo,src:Nt,alt:"logo"}),Object(fe.jsx)("div",{className:Pt.a.loginBlock,children:e.isAuth?Object(fe.jsxs)("div",{className:Pt.a.wrapper,children:[Object(fe.jsx)("p",{className:Pt.a.login,children:e.login}),Object(fe.jsx)("button",{className:Pt.a.btn,onClick:e.logout,children:"LogOut"})]}):Object(fe.jsx)(le.b,{className:Pt.a.login,to:"./login",children:"Login"})})]})}var wt=function(e){Object(ce.a)(s,e);var t=Object(ue.a)(s);function s(e){return Object(re.a)(this,s),t.call(this,e)}return Object(oe.a)(s,[{key:"render",value:function(){return Object(fe.jsx)(Ct,Object(l.a)({},this.props))}}]),s}(n.Component),kt=Object(je.b)((function(e){return{isAuth:e.auth.isAuth,login:e.auth.login}}),{logout:V})(wt),yt=s(25),It=s.n(yt),Ft=Object(ve.a)({form:"login"})((function(e){return Object(fe.jsxs)("form",{className:It.a.wrapper,onSubmit:e.handleSubmit,children:[Object(fe.jsx)(xe.a,{className:It.a.input,name:"email",component:Ie,placeholder:"Login",validate:[Ne]}),Object(fe.jsx)(xe.a,{className:It.a.input,name:"password",type:"password",component:Ie,placeholder:"Password",validate:[Ne]}),Object(fe.jsxs)("div",{className:It.a.inline,children:[Object(fe.jsx)(xe.a,{component:"input",type:"checkBox",name:"rememberMe"}),Object(fe.jsx)("p",{children:"Remember Me"})]}),e.error&&Object(fe.jsx)("div",{className:It.a.formSummaryError,children:e.error}),Object(fe.jsx)("button",{className:It.a.btn,children:"Login"})]})})),Dt=Object(je.b)((function(e){return{isAuth:e.auth.isAuth}}),{login:function(e,t,s){return function(n){_(e,t,s).then((function(e){if(0===e.data.resultCode)n(Q());else{var t=e.data.messages.length>0?e.data.messages[0]:"Some error";n(Object(K.a)("login",{_error:t}))}}))}},logout:V})((function(e){return e.isAuth?Object(fe.jsx)(de.a,{to:"/profile"}):Object(fe.jsxs)("div",{className:It.a.wrapper,children:[Object(fe.jsx)("h1",{className:It.a.text,children:"LOGIN"}),Object(fe.jsx)(Ft,{onSubmit:function(t){var s=t.email,n=t.password,a=t.rememberMe;e.login(s,n,a)}})]})})),Et=function(e){Object(ce.a)(s,e);var t=Object(ue.a)(s);function s(e){return Object(re.a)(this,s),t.call(this,e)}return Object(oe.a)(s,[{key:"componentDidMount",value:function(){this.props.initializeApp()}},{key:"render",value:function(){return this.props.initialized?Object(fe.jsx)("div",{children:Object(fe.jsx)(le.a,{children:Object(fe.jsxs)("div",{className:"app-wrapper",children:[Object(fe.jsx)(kt,{}),Object(fe.jsx)(_e,{}),Object(fe.jsxs)("div",{className:"app-wrapper-content",children:[Object(fe.jsx)(de.b,{path:"/profile/:userId?",render:function(){return Object(fe.jsx)(Ze,{})}}),Object(fe.jsx)(de.b,{path:"/dialogs",render:function(){return Object(fe.jsx)(ut,{})}}),Object(fe.jsx)(de.b,{path:"/news",render:function(){return Object(fe.jsx)(Qe,{})}}),Object(fe.jsx)(de.b,{path:"/music",render:function(){return Object(fe.jsx)(Ve,{})}}),Object(fe.jsx)(de.b,{path:"/users",render:function(){return Object(fe.jsx)(vt,{})}}),Object(fe.jsx)(de.b,{path:"/settings",render:function(){return Object(fe.jsx)(Je,{})}}),Object(fe.jsx)(de.b,{path:"/login",render:function(){return Object(fe.jsx)(Dt,{})}})]})]})})}):Object(fe.jsx)(He,{})}}]),s}(n.Component),Ut=Object(c.d)(Object(je.b)((function(e){return{initialized:e.app.initialized}}),{initializeApp:function(){return function(e){e(Q()).then((function(){return e({type:$})}))}}}))(Et);r.a.render(Object(fe.jsx)(a.a.StrictMode,{children:Object(fe.jsx)(je.a,{store:ie,children:Object(fe.jsx)(Ut,{})})}),document.getElementById("root")),o()},34:function(e,t,s){e.exports={header:"Header_header__Jm1RZ",logo:"Header_logo__3vvBu",loginBlock:"Header_loginBlock__29PXN",login:"Header_login__1HUgF",wrapper:"Header_wrapper__u1Ixr",btn:"Header_btn__2eD-s"}},38:function(e,t,s){e.exports={myposts:"MyPosts_myposts__2869F",title:"MyPosts_title__1V49T",textArea:"MyPosts_textArea__2qX7E",btn:"MyPosts_btn__1CtxC",form:"MyPosts_form__2K55A"}},39:function(e,t,s){e.exports={dialogs:"Dialogs_dialogs__37K0U",dialogsItems:"Dialogs_dialogsItems__2XYIc",add:"Dialogs_add__Gvkj9",textArea:"Dialogs_textArea__pcLzF",btn:"Dialogs_btn__34GFz"}},46:function(e,t,s){e.exports={title:"Friends_title__3_m6N",img:"Friends_img__39f52",friends:"Friends_friends__2_QgE",friend:"Friends_friend__n9T_M",text:"Friends_text__1ifn9"}},56:function(e,t,s){e.exports={post:"Post_post__1xeZn",item:"Post_item__1qbBJ",photo:"Post_photo__1kzoD",btn:"Post_btn__2wcP5"}},57:function(e,t,s){e.exports={dialog:"Dialog_dialog__24Zhq",active:"Dialog_active__XkXzf",user:"Dialog_user__35ZuG",img:"Dialog_img__37Hiv"}},92:function(e,t,s){e.exports={formControl:"FormsControls_formControl__M0W-4",error:"FormsControls_error__2fNsK"}}},[[297,1,2]]]);
//# sourceMappingURL=main.86f6864e.chunk.js.map